<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shift Left Blog — TestGhost</title>
  <meta name="description" content="Practical QA, automation, CI/CD, and modern testing patterns from TestGhost." />
  <link rel="icon" href="assets/img/testghost_favicon.png" />

  <!-- Core styles (same as the rest of the site) -->
  <link rel="stylesheet" href="assets/css/style.css?v=2" />
  <link rel="stylesheet" href="assets/css/_ghost.css?v=2" />

  <!-- Page-scoped additions -->
  <style>
    :root { --line:#1e2626; }
    body{
      background:
        radial-gradient(1200px 600px at 50% -10%, rgba(183,255,90,.08), transparent 60%),
        var(--bg);
    }
    header{ background: rgba(7,11,11,.85) !important; backdrop-filter: blur(20px) saturate(180%); border-bottom:1px solid rgba(183,255,90,.3); }
    footer{ background: rgba(7,11,11,.85) !important; border-top:1px solid rgba(183,255,90,.3); }

    /* Blog hero */
    .blog-hero{ padding:56px 0 28px; border-bottom:1px solid var(--line); text-align:center; }
    .blog-hero img{ height:90px; display:block; margin:0 auto 12px; }

    /* Layout */
    .blog-grid{ display:grid; grid-template-columns: 1.2fr .8fr; gap:28px; padding:28px 0 56px; }
    @media (max-width: 980px){ .blog-grid{ grid-template-columns:1fr; } }

    /* Search row */
    .searchbar{ display:flex; gap:10px; }
    .searchbar input{
      flex:1; background:#0e1414; border:1px solid var(--line);
      color:var(--ink); padding:12px 14px; border-radius:12px;
    }
    .searchbar button{
      border:1px solid var(--line); background:transparent; color:var(--ink);
      padding:12px 14px; border-radius:12px; cursor:pointer;
    }

    /* Cards */
    .post-card{
      background:#0e1414; border:1px solid var(--line); border-radius:16px;
      padding:18px; transition:transform .12s ease, border-color .12s ease, box-shadow .12s ease;
    }
    .post-card:hover{
      transform: translateY(-2px);
      border-color: rgba(183,255,90,.35);
      box-shadow: 0 18px 48px rgba(0,0,0,.35);
    }
    .post-card h3{ margin:4px 0 6px; }
    .meta{ color:var(--muted); font-size:14px; margin-bottom:8px; }
    .tag{
      display:inline-block; font-size:12px; border:1px solid var(--line);
      border-radius:999px; padding:4px 8px; margin-right:6px; color:var(--ink); opacity:.9
    }

    /* Right rail */
    .right-rail .panel{
      background:#0e1414; border:1px solid var(--line); border-radius:16px; padding:16px;
    }
    .right-rail h4{ margin:0 0 10px; }
    .list-clean{ list-style:none; padding:0; margin:0; }
    .list-clean li{ margin:8px 0; }

    /* Make links use site green */
    .blog-hero a,
    .post-card a,
    .right-rail a { color: var(--glow); text-decoration: underline; text-underline-offset: 2px; }

    .cta-row{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header>
    <div class="wrap nav">
      <a href="index.html" aria-label="TestGhost">
        <img src="assets/img/testghost_alt_nav_logo.png" alt="TestGhost logo">
      </a>
      <nav aria-label="Primary">
        <ul>
          <li><a href="cypressoffer.html">Cypress Package</a></li>
          <li><a href="pricing.html">Pricing</a></li>
          <li><a href="examples.html">Examples</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li>
            <a id="navCta" class="cta--nav" href="https://calendly.com/buildghost-dev/30min" target="_blank" rel="noopener">
              Book Intro Call
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="blog-hero">
    <div class="wrap">
      <img src="assets/img/testghost_blog_nav.png" alt="Shift Left Blog">
      <p class="lead" style="max-width:90ch;margin:0 auto">
        Practical QA you can ship: automation patterns, CI/CD tactics, stable selectors, and where AI actually helps.
      </p>
      <div class="cta-row" style="margin-top:14px">
        <a class="ghost-btn" href="contact.html">Suggest a topic</a>
        <a class="ghost-btn" href="rss.xml">RSS</a>
      </div>
    </div>
  </section>

  <!-- CONTENT -->
  <section class="wrap">
    <div class="blog-grid">
      <!-- LEFT: posts + search -->
      <div>
        <div class="searchbar">
          <input id="search" type="search" placeholder="Search posts (title, summary, tags)…" aria-label="Search posts">
          <button id="clearBtn" type="button">Clear</button>
        </div>
        <div id="posts" style="margin-top:16px; display:grid; gap:16px;"></div>
      </div>

      <!-- RIGHT: rail -->
      <aside class="right-rail">
        <div class="panel">
          <h4>Recent posts</h4>
          <ul id="recent" class="list-clean"></ul>
        </div>
        <div class="panel" style="margin-top:16px">
          <h4>Tags</h4>
          <div id="tagCloud"></div>
        </div>
      </aside>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="wrap">
      <div class="footer-left">
        <img class="footer-logo" src="assets/img/testghost_footer_logo.png?v=1" alt="TestGhost" />
        <span>© <span id="y"></span> TestGhost. All rights reserved.</span>
      </div>
      <ul class="footer-links">
        <li><a href="https://linkedin.com/in/markrosenthalqa" target="_blank" rel="noopener">LinkedIn</a></li>
        <li><a href="https://github.com/RealMookulus" target="_blank" rel="noopener">GitHub</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </footer>

  <!-- JS -->
  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    // ---- Simple content model (add posts here) ----
    const POSTS = [
      {
        slug: 'qa-trends-september-2025',   // matches docs/posts/qa-trends-september-2025.html
        title: 'QA Trends: Stable Automation in the Age of AI (Sept 2025)',
        date: '2025-09-01',
        summary: 'Where AI genuinely helps (and where it hurts), patterns to de-flake UI tests, and CI/CD wiring that speeds feedback.',
        tags: ['automation','ai','cicd','strategy']
      },
      {
        slug: 'cypress-selectors-that-never-break', // matches docs/posts/cypress-selectors-that-never-break.html
        title: 'Cypress Selectors That Never Break',
        date: '2025-08-24',
        summary: 'The heuristics I use to keep selectors stable across redesigns — testids, roles, contract tests, and DOM contracts.',
        tags: ['cypress','selectors','stability']
      }
    ];

    // ---- Render helpers ----
    const postsEl = document.getElementById('posts');
    const recentEl = document.getElementById('recent');
    const tagCloudEl = document.getElementById('tagCloud');
    const searchEl = document.getElementById('search');
    const clearBtn = document.getElementById('clearBtn');

    function fmtDate(iso){
      return new Date(iso).toLocaleDateString(undefined, {year:'numeric', month:'short', day:'numeric'});
    }

    function postCard(p){
      const url = 'posts/' + p.slug + '.html';
      const tags = p.tags.map(t=>`<span class="tag">${t}</span>`).join(' ');
      return `
        <article class="post-card">
          <div class="meta">${fmtDate(p.date)} · ${tags}</div>
          <h3><a href="${url}">${p.title}</a></h3>
          <p class="lead" style="font-size:14px">${p.summary}</p>
          <div style="margin-top:10px"><a class="ghost-btn" href="${url}">Read →</a></div>
        </article>
      `;
    }

    function render(list){ postsEl.innerHTML = list.map(postCard).join(''); }

    function renderRecent(){
      const sorted = [...POSTS].sort((a,b)=> b.date.localeCompare(a.date)).slice(0,6);
      recentEl.innerHTML = sorted.map(p=>`<li><a href="posts/${p.slug}.html">${p.title}</a></li>`).join('');
    }

    function renderTags(){
      const counts = {};
      POSTS.forEach(p=>p.tags.forEach(t=>counts[t]=(counts[t]||0)+1));
      tagCloudEl.innerHTML = Object.keys(counts)
        .sort((a,b)=>counts[b]-counts[a])
        .map(t=>`<a href="#" data-tag="${t}" class="tag" style="margin-bottom:6px;display:inline-block">${t} (${counts[t]})</a>`)
        .join(' ');
      tagCloudEl.querySelectorAll('[data-tag]').forEach(a=>{
        a.addEventListener('click',(e)=>{
          e.preventDefault();
          searchEl.value = a.dataset.tag;
          doSearch();
        });
      });
    }

    function doSearch(){
      const q = searchEl.value.trim().toLowerCase();
      if(!q){ render(POSTS); return; }
      const filtered = POSTS.filter(p =>
        p.title.toLowerCase().includes(q) ||
        p.summary.toLowerCase().includes(q) ||
        p.tags.join(' ').toLowerCase().includes(q)
      );
      render(filtered);
    }

    // init
    render(POSTS);
    renderRecent();
    renderTags();
    searchEl.addEventListener('input', doSearch);
    clearBtn.addEventListener('click', ()=>{ searchEl.value=''; doSearch(); });
  </script>
</body>
</html>